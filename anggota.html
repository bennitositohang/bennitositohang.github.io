<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <link rel="stylesheet" type="text/css" href="index.css" />
  <title>Halaman Anggota</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>
</head>

<body>
  <nav class="navbar navbar-expand-sm navbar-dark bg-dark ">
    <div class="container">
      <a class="navbar-brand" href="index.html">Perpustakaan</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mynavbar">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="mynavbar">
        <ul class="navbar-nav me-auto">
          <li class="nav-item">
            <a class="nav-link" href="buku.html">Buku</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="anggota.html">Daftar Anggota</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="peminjaman.html">Pinjam Buku</a>
          </li>
        </ul>
        <form class="d-flex">
          <a href="admin.html">
            <button class="btn btn-primary" type="button">Sign in to admin</button></a>
        </form>
      </div>
    </div>
  </nav>


  <!-- Carousel -->
  <div id="demo" class="carousel slide" data-bs-ride="carousel">

    <!-- Indicators/dots -->
    <div class="carousel-indicators">
      <button type="button" data-bs-target="#demo" data-bs-slide-to="0" class="active"></button>
      <button type="button" data-bs-target="#demo" data-bs-slide-to="1"></button>
      <button type="button" data-bs-target="#demo" data-bs-slide-to="2"></button>
    </div>

    <!-- The slideshow/carousel -->
    <div class="carousel-inner">
      <div class="carousel-item ">
        <img src="homebook.jpg" alt="Los Angeles" class="d-block" style="width:100%">

      </div>
      <div class="carousel-item">
        <img src="homebook1.jpg" alt="Chicago" class="d-block" style="width:100%">
      </div>
      <div class="carousel-item active">
        <img src="homebook2.jpg" alt="New York" class="d-block" style="width:100%">
        <div class="carousel-caption d-none d-md-block">
          <h5>Third slide label</h5>
          <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>
          <button class="btn btn-danger p-3" type="button">See</button>
        </div>

      </div>

      <!-- Left and right controls/icons -->
      <button class="carousel-control-prev" type="button" data-bs-target="#demo" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#demo" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
      </button>
    </div>
  </div>



  <div id="app" class="container">

    <div class="container mt-3">


    </div>
    <!-- The Modal -->
    <div class="modal fade" id="createUserModalCenter" tabindex="-1" role="dialog"
      aria-labelledby="createUserModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="createUserModalLongTitle">Silahkan isi data</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>

          <!-- Modal body -->
          <div class="modal-body">
            <form>
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="nama">Nama</label>
                  <input v-model="nama" type="text" class="form-control" id="nama" placeholder="" value="" required>
                </div>
              </div>
              <div class="mb-3">
                <label for="email">email</label>
                <div class="input-group">
                  <input v-model="email" type="text" class="form-control" id="email" placeholder="email" required>
                </div>
              </div>
              <div class="mb-3">
                <label for="telepon">telepon</label>
                <div class="input-group">
                  <input v-model="telepon" type="text" class="form-control" id="telepon" placeholder="telepon" required>
                </div>
              </div>
              <div class="mb-3">
                <label for="alamat">alamat</label>
                <div class="input-group">
                  <label for="alamat"></label>
                  <textarea  v-model="alamat" class="form-control" rows="5" id="comment" name="text"></textarea>
                </div>
              </div>
              <div class="mb-3">
                <label for="password">password</label>
                <div class="input-group">
                  <input v-model="password" type="text" class="form-control" id="password" placeholder="password"
                    required>
                </div>
              </div>
            </form>
          </div>

          <!-- Modal footer -->
          <div class="modal-footer">
            <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-dark" data-bs-dismiss="modal" v-on:click="createUser">submit</button>
          </div>

        </div>
      </div>
    </div>



    <!-- Modal update -->
    <div class="modal fade" id="updateUserModalCenter" tabindex="-1" aria-labelledby="updateUserModalCenterTitle"
      aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="updateUserModalCenterTitle">Silahkan update data</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form>
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="nama">Nama</label>
                  <input v-model="nama" type="text" class="form-control" id="namaUpdate" placeholder="" value=""
                    required>
                </div>
              </div>

              <div class="mb-3">
                <label for="email">email</label>
                <div class="input-group">
                  <input v-model="email" type="text" class="form-control" id="emailUpdate" placeholder="email" required>
                </div>
              </div>
              <div class="mb-3">
                <label for="telepon">telepon</label>
                <div class="input-group">
                  <input v-model="telepon" type="text" class="form-control" id="teleponUpdate" placeholder="telepon"
                    required>
                </div>
              </div>
              <div class="mb-3">
                <label for="alamat">alamat</label>
                <div class="input-group">
                  <label for="alamat"></label>
                  <textarea  v-model="alamat" class="form-control" rows="5" id="comment" name="text"></textarea>
                </div>
              </div>
              <div class="mb-3">
                <label for="password">password</label>
                <div class="input-group">
                  <input v-model="password" type="text" class="form-control" id="passwordUpdate" placeholder="password"
                    required>
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">

            <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-dark" data-bs-dismiss="modal" v-on:click="updateUser(user)">update
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Button trigger modal -->


    <!-- Modal -->
    <div class="modal fade" id="deleteUserModalCenter" tabindex="-1" aria-labelledby="deleteUserModalCenterTitle"
      aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="deleteUserModalCenterTitle">delete</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            Apakah anda yakin Menghapus Data
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Tidak</button>
            <button type="submit" class="btn btn-dark" data-bs-dismiss="modal" v-on:click="deleteUser">Ya</button>
          </div>
        </div>
      </div>
    </div>


    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#createUserModalCenter">
      add data
    </button>
    <div class="container">
      <div class="col-md-12">
        <br>
        <table class="table table-striped">
          <tr>
            <th>ID</th>
            <th>nama</th>
            <th>email</th>
            <th>telepon</th>
            <th>alamat</th>
            <th>password</th>
            <th>Edit</th>
            <th>Delete</th>
          </tr>
          <tr v-for="user in users">
            <td>{{ user.id }}</td>
            <td>{{ user.nama }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.telepon }}</td>
            <td>{{ user.alamat }}</td>
            <th>{{ user.password}}</th>

            <td><button class="btn btn-md btn-dark " data-bs-toggle="modal" data-bs-target="#updateUserModalCenter"
                v-on:click="getEdit(user)">edit</button></td>
            <td><button class="btn btn-dark" data-bs-toggle="modal" data-bs-target="#deleteUserModalCenter"
                v-on:click="getDelete(user)">delete </button></td>

        </table>

      </div>
    </div>

  </div>


  <!-- Axios -->
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

  <script>
    var app = new Vue({
      el: '#app',
      data: {
        errors: [],
        users: [],
        userIdEdit: null,
        userIdDelete: null,
        editMode: false,
        deleteMode: false,
        nama: '',
        email: '',
        telepon: '',
        alamat: '',
        password: '',
      },
      mounted: function () {
        this.getUser();
      },
      methods: {
        getUser() {
          axios.get('https://6217343271e7672e537686c3.mockapi.io/perpustakaanmid/admin')
            .then(response => {
              this.users = response.data;
              console.log(response);
            })
            .catch(error => {
              console.log(error);
            });
        },
        createUser: function () {
          var createUserModalCenter = document.getElementById('createUserModalCenter')
          axios.post('https://6217343271e7672e537686c3.mockapi.io/perpustakaanmid/admin', {
              nama: this.nama,
              email: this.email,
              telepon: this.telepon,
              alamat: this.alamat,
              password: this.password,
            })
            .then(response => {
              this.getUser();
              swal('created', 'Berhasil Menambah Data', 'success')
              this.resetForm();
              console.log(response);
            })
            .catch(error => {
              console.log(error);
            });

        },
        resetForm: function () {
          this.editMode = false;
          this.deleteMode = false;
          this.userIdEdit = null;
          this.nama = null;
          this.email = null;
          this.telepon = null;
          this.alamat = null;
          this.password = null;

        },

        getEdit: function (user) {
          var updateUserModalCenter = document.getElementById('updateUserModalCenter');
          this.message = null;
          this.editMode = true;
          this.deleteMode = false;
          this.userIdEdit = user.id;
          this.nama = user.nama;
          this.email = user.email;
          this.telepon = user.telepon;
          this.password = user.password;
          this.alamat = user.alamat;
        },
        getDelete: function (user) {
          //Show the delete modal
          var deleteUserModalCenter = document.getElementById('deleteUserModalCenter');
          this.message = null;
          this.deleteMode = true;
          this.editMode = false;
          this.userIdDelete = user.id;
          this.namaUpdate = user.nama;
          this.emailUpdate = user.email;
          this.teleponUpdate = user.telepon;
          this.alamatUpdate = user.alamat;
          this.passwordUpdate = user.password;
        },
        updateUser: function () {
          axios.put(`https://6217343271e7672e537686c3.mockapi.io/perpustakaanmid/admin/${this.userIdEdit}`, {
              nama: this.nama,
              email: this.email,
              telepon: this.telepon,
              alamat: this.alamat,
              password: this.password,
            })
            .then(res => {
              swal('updated', 'Berhasil Mengupdate Data', 'success')
              var updateUserModalCenter = document.getElementById('updateUserModalCenter');
              this.resetForm();
              this.getUser();
            })

            .catch(err => {
              console.log(err);
            })
        },
        deleteUser: function () {
          axios.delete(`https://6217343271e7672e537686c3.mockapi.io/perpustakaanmid/admin/${this.userIdDelete}`)
            .then(res => {
              swal('deleted', 'Berhasil Menghapus Data')
              var deleteUserModalCenter = document.getElementById('deleteUserModalCenter');
              this.resetForm();
              this.getUser();
            })
            .catch(err => {
              console.log(err);
            })
        }
      }
    })
  </script>


  <div class="row" style="margin: 0;">


    <div class="col-md-6 mb-4">

      <div class="card card-image mb-3"
        style="background-image: url(https://m.media-amazon.com/images/S/aplus-media/sota/b5cf8a31-7956-46ed-a831-7b7771ec1429._SR300,300_.PNG);">

        <div class="text-white text-center d-flex align-items-center rgba-black-strong py-5 px-4">
          <div>
            <h5 class="pink-text">Planet Earth</h5>
            <h3 class="card-title pt-2"><strong>Planet Earth II (BD) [Blu-ray]</strong></h3>
            <p>A decade ago, Planet Earth redefined natural history filmmaking, giving us the ultimate portrait
              of life on Earth. Ten years on, advances in both filming technology and our understanding of the natural w
              orld mean we can reveal our planet from a completely new perspective.
              Now, Planet Earth II allows us to experience the world from the viewpoint of animals themselves.</p>
            <a class="btn btn-danger"> View project</a>
          </div>
        </div>


      </div>

    </div>

    <div class="col-md-6">
      <div class="card card-image mb-3"
        style="background-image: url('https://ecs7.tokopedia.net/img/cache/700/product-1/2017/9/1/6213198/6213198_15d5bb4f-0eb0-4a74-8292-8d6ca4d23036_2048_0.jpg');">
        <div class="text-white text-center d-flex align-items-center rgba-indigo-strong py-5 px-4">
          <div>
            <h5 class="orange-text"><i class="fas fa-desktop"></i> Buku Engineering</h5>
            <h3 class="card-title pt-2"><strong>Buku Teknologi Pesawat Terbang</strong></h3>
            <p>Teknologi Pesawat Terbang Sebagai Mitra Pengembang Teknologi Roket dan Satelit Nasional</p>
            <a class="btn btn-danger"><i class="fas fa-clone left"></i> View project</a>
          </div>
        </div>
      </div>
    </div>

  </div>
  <!-- Remove the container if you want to extend the Footer to full width. -->
  <div class="container-fluid" style="padding: 0%;">

    <footer class="text-center text-lg-start" style="background-color: #a7a4a3;">
      <div class="container d-flex justify-content-center py-5">
        <button type="button" class="btn btn-primary btn-lg btn-floating mx-2" style="background-color: #54456b;">
          <i class="fa fa-facebook-f"></i>
        </button>
        <button type="button" class="btn btn-primary btn-lg btn-floating mx-2" style="background-color: #54456b;">
          <i class="fa fa-youtube"></i>
        </button>
        <button type="button" class="btn btn-primary btn-lg btn-floating mx-2" style="background-color: #54456b;">
          <i class="fa fa-instagram"></i>
        </button>
        <button type="button" class="btn btn-primary btn-lg btn-floating mx-2" style="background-color: #54456b;">
          <i class="fa fa-twitter"></i>
        </button>
      </div>

      <!-- Copyright -->
      <div class="text-center text-white p-3" style="background-color: rgba(5, 4, 4, 0.857);">
        © 2020 Copyright
      </div>
      <!-- Copyright -->
    </footer>

  </div>
  <!-- End of .container -->

</body>

</html>